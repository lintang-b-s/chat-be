{
	"info": {
		"_postman_id": "d3ae0ec0-c39f-4017-b0fc-864bd90322ca",
		"name": "pelatihan umum (chat app)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "23925296",
		"_collection_link": "https://orange-comet-51695.postman.co/workspace/netflik~35c0e208-27dd-4c2a-a67f-44e4ee221c8b/collection/23925296-d3ae0ec0-c39f-4017-b0fc-864bd90322ca?action=share&source=collection_link&creator=23925296"
	},
	"item": [
		{
			"name": "auth",
			"item": [
				{
					"name": "add users",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"lintang@gmail.com\",\n    \"password\": \"Lintang123*\",\n    \"username\": \"lintang\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/v1/auth/register",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"v1",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"lintang2@gmail.com\",\n    \"password\": \"Lintang123*\",\n    \"username\": \"lintang2\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/v1/auth/register",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"v1",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "post login (user lintang)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"var access_token = jsonData.access_token;",
									"var refresh_token = jsonData.refresh_token;",
									"var otp_lintang = jsonData.otp;",
									"pm.globals.set(\"acToken_lintang\", access_token);",
									"",
									"pm.globals.set(\"refToken_lintang\",refresh_token );",
									"pm.globals.set(\"otp_lintang\", otp_lintang);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"lintang@gmail.com\",\n    \"password\": \"Lintang123*\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/v1/auth/login",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "post login (user lintang2)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"var access_token = jsonData.access_token;",
									"var otp_lintang2 = jsonData.otp;",
									"var refresh_token = jsonData.refresh_token;",
									"pm.globals.set(\"acToken_lintang2\", access_token);",
									"pm.globals.set(\"refToken_lintang2\",refresh_token );",
									"pm.globals.set(\"otp_lintang2\", otp_lintang2);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"lintang2@gmail.com\",\n    \"password\": \"Lintang123*\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/v1/auth/login",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "renew Acces Token",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImZjNmIzMDNhLTQ2NDQtNGE0ZC1hNmFkLTVhNDExZThlNDJmMiIsImVtYWlsIjoibGludGFuZ0BnbWFpbC5jb20iLCJpc3N1ZWRfYXQiOiIyMDIzLTEwLTEwVDE5OjExOjU2Ljk2NjMyMSswNzowMCIsImV4cGlyZWRfYXQiOiIyMDIzLTEwLTE3VDE5OjExOjU2Ljk2NjMyMSswNzowMCJ9.T4rVjsAMsRe6LBh85-vTv8nhFeRlr6bVJKc3cegonMA\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/v1/auth/token",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"v1",
								"auth",
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "logout",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessTokenUrl",
									"value": "http://keycloak:8080/realms/spring-boot-microservices-realm/protocol/openid-connect/token",
									"type": "string"
								},
								{
									"key": "clientSecret",
									"value": "OlLIrucXOXgDap2kcGPiCvJzXgekWWuw",
									"type": "string"
								},
								{
									"key": "scope",
									"value": "openid offline_access",
									"type": "string"
								},
								{
									"key": "clientId",
									"value": "spring-cloud-client",
									"type": "string"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "string"
								},
								{
									"key": "authUrl",
									"value": "http://localhost:5005/auth/login",
									"type": "string"
								},
								{
									"key": "tokenName",
									"value": "token",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refresh_token\": \"{{refToken_lintang}}\"\n}\n\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/v1/auth/logout",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"v1",
								"auth",
								"logout"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "contact",
			"item": [
				{
					"name": "add contact lintang2 (user lintang)",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessTokenUrl",
									"value": "http://keycloak:8080/realms/spring-boot-microservices-realm/protocol/openid-connect/token",
									"type": "string"
								},
								{
									"key": "clientSecret",
									"value": "OlLIrucXOXgDap2kcGPiCvJzXgekWWuw",
									"type": "string"
								},
								{
									"key": "scope",
									"value": "openid offline_access",
									"type": "string"
								},
								{
									"key": "clientId",
									"value": "spring-cloud-client",
									"type": "string"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "string"
								},
								{
									"key": "authUrl",
									"value": "http://localhost:5005/auth/login",
									"type": "string"
								},
								{
									"key": "tokenName",
									"value": "token",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"friend_username\": \"lintang2\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/v1/contact/add/",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"v1",
								"contact",
								"add",
								""
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "acToken-lintang",
			"value": ""
		}
	]
}